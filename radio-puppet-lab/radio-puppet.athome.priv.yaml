---
classes:
  - common::baseapps
  - debian::apt::sources
  #- icecast2
  - airtime

airtime:
  # The port of the Web interface.
  # Default is 8080.
  port: 8080

icecast2:

  # This entry is mandatory. It's the ssh url of the git repository
  # of the mountpoints.
  git_repository: git@gitlab.crdp.ac-versailles.fr:francois.lafont/web-radio.git

  # The password of the default username (called 'source') for all
  # source connections. This and the username can be changed in the
  # individual mount sections.
  # The password of the 'relay' username is automatically set to
  # the same value.
  # Default is '__pwd__{"salt" => ["$fqdn", "source"], "nice" => true, "max_length" => 10 }'.
  source_password: '__pwd__{"salt" => ["$fqdn", "source"], "nice" => true, "max_length" => 8 }'

  # Default is '__pwd__{"salt" => ["$fqdn", "admin"], "nice" => true, "max_length" => 10 }'.
  admin_password: '__pwd__{"salt" => ["$fqdn", "admin"], "nice" => true, "max_length" => 8 }'

  # Default is 8000.
  port: '80'

  # Max connections for the entire server (not per mountpoint).
  # Default is 100.
  limits_clients: 200

  # Max number of connected sources supported by the server.
  # Default is 10.
  limits_sources: 20

  # If source does not send any data within this timeout period (in
  # seconds), then the source connection is removed from the server.
  # The default is 10.
  limits_source_timeout: 20

  # 4=Debug, 3=Info, 2=Warn, 1=Error.
  # With log level equal to 3 and I there is Airtime installed too
  # with a stream set with a bad password, there will be regular
  # writing on the log file.
  # Default is 2.
  log_level: 2

  # Log size in KBytes. If a log file is grower than the log size,
  # then "mv <filename>.log <filename>.log.old".
  # Default is 10000.
  log_size: 20000



