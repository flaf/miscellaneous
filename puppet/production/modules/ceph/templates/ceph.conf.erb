### This file is managed by Puppet, don't edit it. ###
<%-
  # Just cosmetic.
  column_size = @global_options.keys.map(&:length).max
-%>

[global]
<%- @global_options.sort.map.each do |option, value| -%>
  <%= option.gsub('_', ' ').ljust(column_size) %> = <%= value %>
<%- end -%>

<%- @monitors.sort.map.each do |name, v| -%>
[mon.<%= v['id'] %>]
  host     = <%= name %>
  mon addr = <%= v['address'] %>

<%- end -%>
<%- @keyrings.sort.map.each do |id, hash| -%>
  <%- if hash.has_key?('radosgw_host') -%>
    <%-
      if @common_rgw_dns_name
        rgw_dns_name = @common_rgw_dns_name
      else
        rgw_dns_name = hash['radosgw_host']
      end
    -%>
[client.<%= id %>]
  host            = <%= hash['radosgw_host'] %>
  rgw dns name    = <%= rgw_dns_name %>
  rgw socket path = /var/run/ceph/<%= @cluster_name %>.<%= id %>.fastcgi.sock
  keyring         = /etc/ceph/<%= @cluster_name %>.client.<%= id %>.keyring
  log file        = /var/log/radosgw/client.<%= id %>.log

  <%- end -%>
<%- end -%>

